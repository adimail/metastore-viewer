{% extends "base.html" %}
{% block title %}
    Edit Bucket - {{ bucket.name }}{%
    endblock %}
    {% block content %}
        <div class="max-w-5xl">
            <h1 class="text-3xl font-bold text-gray-900 mb-6 flex items-center">
                <a href="/settings"
                   class="text-blue-600 hover:text-blue-800 transition duration-200">
                    <i class="fas fa-cog mr-2"></i>Settings
                </a>
                <span class="mx-2 text-gray-500">/</span>
                <a class="text-blue-600 hover:text-blue-800 transition duration-200"
                   href="{{ url_for('settings.workspace_settings', workspace_id=workspace.id) }}">
                    <span>Workspace: {{ workspace.name }}</span></a>
                <span class="mx-2 text-gray-500">/</span>
                <span>{{ bucket.name }}</span>
            </h1>
            <form method="POST"
                  action="{{ url_for('settings.edit_bucket', workspace_id=workspace.id, bucket_id=bucket.id) }}"
                  class="space-y-6">
                <fieldset class="bg-gray-50 shadow-inner p-4 border border-gray-200 rounded">
                    <legend class="text-lg font-semibold text-gray-700 mb-2">Bucket Details</legend>
                    <div class="grid grid-cols-1 gap-4">
                        <div>
                            <label for="bucket_name" class="block text-sm font-medium text-gray-700">Bucket Name</label>
                            <input type="text"
                                   id="bucket_name"
                                   name="bucket_name"
                                   value="{{ bucket.name }}"
                                   required
                                   class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500" />
                        </div>
                        <div>
                            <label for="bucket_path" class="block text-sm font-medium text-gray-700">Bucket Path</label>
                            <input type="text"
                                   id="bucket_path"
                                   name="bucket_path"
                                   value="{{ bucket.bucket_path }}"
                                   required
                                   placeholder="e.g., s3://bucket-name"
                                   class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500" />
                        </div>
                        <div>
                            <label for="endpoint_url" class="block text-sm font-medium text-gray-700">Endpoint URL (optional)</label>
                            <input type="text"
                                   id="endpoint_url"
                                   name="endpoint_url"
                                   value="{{ bucket.endpoint_url or '' }}"
                                   placeholder="e.g., s3.amazonaws.com"
                                   class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500" />
                        </div>
                        <div>
                            <label for="storage_access_key"
                                   class="block text-sm font-medium text-gray-700">Access Key (optional)</label>
                            <input type="text"
                                   id="storage_access_key"
                                   name="storage_access_key"
                                   value="{{ bucket.storage_access_key or '' }}"
                                   placeholder="Enter access key"
                                   class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500" />
                        </div>
                        <div>
                            <label for="storage_secret_key"
                                   class="block text-sm font-medium text-gray-700">Secret Key (optional)</label>
                            <input type="password"
                                   id="storage_secret_key"
                                   name="storage_secret_key"
                                   value="{{ bucket.storage_secret_key or '' }}"
                                   placeholder="Enter secret key"
                                   class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500" />
                        </div>
                    </div>
                </fieldset>
                <div class="flex justify-end space-x-4">
                    <a href="{{ url_for('settings.workspace_settings', workspace_id=workspace.id) }}"
                       class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-6 rounded shadow-md transition duration-300">
                        Cancel
                    </a>
                    <button type="submit"
                            class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded shadow-md transition duration-300">
                        Save Changes
                    </button>
                </div>
            </form>
        </div>
    {% endblock %}
